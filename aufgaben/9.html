<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de"><!-- InstanceBegin template="../Templates/navigation.dwt" codeOutsideHTMLIsLocked="false" -->
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<!-- InstanceBeginEditable name="doctitle" --><title>cKurs: Abschluss&uuml;bung</title><!-- InstanceEndEditable -->
		<link href="../css/styles.css" rel="stylesheet" type="text/css" />
	    <!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->

	</head>
	<body> <center> <div id="Layer2"><div id="CkursHeader"> <h1> CKurs - Aufgaben zu C </h1></div>
	<div id="CKursSearch">
	<!-- SiteSearch Google --><!-- SiteSearch Google -->
<form method="get" action="http://www.ckurs.de/suchergebnisse.html" target="_top">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
<br/>
<input type="hidden" name="domains" value="www.ckurs.de"></input>
<label for="sbi" style="display: none">Geben Sie Ihre Suchbegriffe ein</label>
<input type="text" name="q" size="31" maxlength="255" value="" id="sbi"></input>
<label for="sbb" style="display: none">Suchformular senden</label>
<input type="submit" name="sa" value="Suchen" id="sbb"></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked id="ss0"></input>
<label for="ss0" title="Web-Suche"><font size="-1" color="#000000">Web</font></label></td>
<td>
<input type="radio" name="sitesearch" value="www.ckurs.de" id="ss1"></input>
<label for="ss1" title="Suchen www.ckurs.de"><font size="-1" color="#000000">www.ckurs.de</font></label></td>
</tr>
</table>
<input type="hidden" name="client" value="pub-2804672934282785"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="UTF-8"></input>
<input type="hidden" name="oe" value="UTF-8"></input>
<input type="hidden" name="flav" value="0000"></input>
<input type="hidden" name="sig" value="rWi2uceVD70agyuX"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFCC;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:11"></input>
<input type="hidden" name="hl" value="de"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</div></div><div id="Layer4"> <div id="Layer1">
    <p><a href='../index.htm' title='Hauptseite' >Hauptseite</a></p>
    <p>&Uuml;bungen</p>
    <blockquote>
    <p><a href='1.html' title='&Uuml;bung 1' >1</a></p>
    <p><a href='2.html' title='&Uuml;bung 2' >2</a></p>
    <p><a href='3.html' title='&Uuml;bung 3' >3</a></p>
    <p><a href='4.html' title='&Uuml;bung 4' >4</a></p>
    <p><a href='5.html' title='&Uuml;bung 5' >5</a></p>
    <p><a href='6.html' title='&Uuml;bung 6' >6</a></p>
    <p><a href='7.html' title='&Uuml;bung 7' >7</a></p>
    <p><a href='8.html' title='&Uuml;bung 8' >8</a></p>
    <p><a href='9.html' title='&Uuml;bung 9' >9</a></p>
    </blockquote>
    <p><a href='../impressum.html' title='Impressum' >Impressum</a></p>
    <p><a href="http://users.skynet.be/mgueury/mozilla/"> <img src="http://users.skynet.be/mgueury/mozilla/tidy_16.gif"
  alt="Validated by HTML Validator (based on Tidy) " height="16" width="39"/> </a></p>
    <p><a href="/Partner.html">Partner</a></p>
	</div><div id="Layer3"> <!-- InstanceBeginEditable name="EditRegion3" -->
	<div class="fold_Aufgabe"><p>Lineare Regression</p>
	<div class="fold_Aufgabenstellung">
    <p>Aufgabenstellung:</p>
    <br />
Schreiben Sie bitte ein C-Programm zur Berechnung der linearen <br />
Regression (LR)*. Die Werterpaare (x, y) sollen aus einer Datei <br />
&bdquo;messdaten.txt&ldquo; gelesen werden.<br />
<br />
Bearbeiten Sie die Wertepaare nacheinander.<br />
<br />
Bilden Sie<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sx&nbsp; = SUMME(x)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sxy = SUMME(x*y)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sy&nbsp; =&nbsp;&nbsp;  SUMME(y)<br />
<br />
Nach Abarbeitung aller Me&szlig;werte k&ouml;nne Sie daraus Achsenabscnitt und <br />
Steigung der Regressionseraden berechnen*.<br />
<br />
<div class="fold_Eingabe">
<p>Inhalt der Datei &bdquo;messdaten.txt&ldquo;:</p>
&nbsp; 1.5&nbsp;&nbsp;  3.5<br />
&nbsp; 2.4&nbsp;&nbsp;  5.3<br />
&nbsp; 3.2&nbsp;&nbsp;  7.7<br />
&nbsp; 4.8&nbsp;&nbsp;  6.2<br />
&nbsp; 5.0&nbsp;&nbsp;  11.0<br />
&nbsp; 7.0&nbsp;&nbsp;  9.5<br />
&nbsp; 8.43 10.27 </div><br />
<br />
*) F&uuml;r mehr Informationen &uuml;ber die lineare Regression siehe:<br />
http://en.wikipedia.org/wiki/Linear_regression<br />
http://de.wikipedia.org/wiki/Regressionsanalyse </div><div class="fold_Antwort">
<p>L&ouml;sung:</p>
<p>Durch minimales Anpassen des Programms aus Aufgabe 8 bzw 7 kann die Aufgabe sehr schnell gel&ouml;st werden:</p>
<div class="fold_CCode">
<p>CCode:</p>
#include &lt;stdio.h&gt;

<p>int main(int argc, char **argv)<br />
  {<br />
  double *x ,*y, *xy, <br />
  actx,acty,<br />
  Sx=0,Sxy=0,Sy=0,<br />
  bz=0,bn=0,b,a;<br />
  int count=0,  datasize=10 ,i ;<br />
  FILE *fdata;<br />
  if(argc &lt; 2) {<br />
  fprintf(stderr, &quot;Aufruf via progname filename&quot;);<br />
  return 0;<br />
  }<br />
  if ((fdata = fopen(argv[1], &quot;r&quot;)) == NULL)<br />
  {<br />
  fprintf(stderr, &quot;Datenfile kann nicht gefunden werden. \n&quot;);<br />
  return -1;<br />
  }<br />
  count=0;<br />
  x=(double*)malloc(sizeof(double)*datasize);<br />
  y=(double*)malloc(sizeof(double)*datasize);<br />
  while(fscanf(fdata,&quot;%lf %lf&quot;,&amp;actx,&amp;acty)!=EOF){<br />
  printf(&quot;(%+4.2f, %+4.2f)\n&quot;,actx,acty);<br />
  count++;<br />
  if (count &gt; datasize) {<br />
  datasize+=10;<br />
  x=(double*)realloc(x,sizeof(double)*datasize);<br />
  y=(double*)realloc(x,sizeof(double)*datasize);<br />
  }<br />
  x[count-1]=actx;<br />
  y[count-1]=acty;<br />
  Sx+=actx;<br />
  Sy+=acty;<br />
  Sxy+=actx*acty;<br />
  }<br />
  printf(&quot;Sx=%5.2f , Sy=%5.2f , Sxy=%5.2f\n&quot;,Sx,Sy,Sxy);<br />
  Sx=Sx/count;<br />
  Sy=Sy/count;<br />
  //nach Wikipedia<br />
  for (i=0;i&lt;count;i++){<br />
  bz+=(x[i]-Sx)*(y[i]-Sy);<br />
  bn+=(x[i]-Sx)*(x[i]-Sx);<br />
  }<br />
  b=bz/bn;<br />
  a=Sy-b*Sx;<br />
  printf(&quot;Der Achsenabschnitt liegt bei %6.3f und die Steigung bei %6.3f&quot;,a,b);<br />
  return 0;<br />
  } </p>
</div>
<p>&nbsp;</p>
<div class="fold_Eingabe">
<p>Der Aufruf </p>
&gt;c9.exe messdaten.txt </div>
<p>liefert dann das gew&uuml;nschte Ergebnis </p>
<div class="fold_Ausgabe">
<p>Ausgabe stdout:</p>
<p>(+1.50, +3.50)<br />
  (+2.40, +5.30)<br />
  (+3.20, +7.70)<br />
  (+4.80, +6.20)<br />
  (+5.00, +11.00)<br />
  (+7.00, +9.50)<br />
  (+8.43, +10.27)<br />
  Sx=32.33 , Sy=53.47 , Sxy=280.45<br />
  Der Achsenabschnitt liegt bei  3.462 und die Steigung bei  0.904</p>
</div>
<p>Dies stimmt mit den von Excel berechneten Werten &uuml;berein:</p>
<p><img alt="Exceldiagramm" src="../img/LR.gif" width="528" height="390" /> </p>
<p>&nbsp; </p>
</div></div><!-- InstanceEndEditable --></div><script type ="text/javascript" src="../js/dynafold.js"></script>
    <p>&nbsp;</p>
<div id="Layer5"><script type="text/javascript"><!--
google_ad_client = "pub-2804672934282785";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFCC";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
google_ui_features = "rc:0";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
</div></center></body>
<!-- InstanceEnd --></html>